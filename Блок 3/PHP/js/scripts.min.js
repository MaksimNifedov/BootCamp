let globalX=0,globalY=0;$(document).on("mousemove",(function(t){globalX=t.pageX,globalY=t.pageY})),$(".zoom-img-item").on("mousemove",(function(){let t=$(this).attr("href"),i=$(this).find("img"),a=i.width(),e=i.height(),n=$(".zoom-img-overlay"),o=$(".zoom-img-cursor");o.css("width",n.width()/4+"px"),o.css("height",n.height()/4+"px");let s=o.outerWidth(),l=o.outerHeight(),u=globalX-$(this).offset().left-s/2,c=globalY-$(this).offset().top-l/2;u<0&&(u=0),u>a-s&&(u=a-s),c<0&&(c=0),c>e-l&&(c=e-l),o.css("left",u+"px"),o.css("top",c+"px"),o.show(),u*=4,c*=4,n.css("background-image",`url(${t})`),n.css("background-size",4*a+"px"),n.css("background-position",`-${u}px -${c}px`),n.show()})),$(".zoom-img-item").on("mouseleave",(function(){$(".zoom-img-cursor").hide(),$(".zoom-img-overlay").hide()})),$(".quantity__inner .bt__minus").click((function(){let t=$(this).parent().find(".quantity"),i=parseInt(t.val())-1;i=i<1?1:i,t.val(i)})),$(".quantity__inner .bt__plus").click((function(){let t=$(this).parent().find(".quantity"),i=parseInt(t.val())+1;i=i>parseInt(t.data("max-count"))?parseInt(t.data("max-count")):i,t.val(parseInt(i))})),$(".quantity__inner .quantity").bind("change keyup input click",(function(){this.value.match(/[^0-9]/g)&&(this.value=this.value.replace(/[^0-9]/g,"")),""==this.value&&(this.value=1),this.value>parseInt($(this).data("max-count"))&&(this.value=parseInt($(this).data("max-count")))})),$(".btn__primary").click((function(){let t=$(".quantity__inner ").parent().find(".quantity"),i="",a=parseInt(t.val());1==a&&(i="В корзину добавлен "+a+" товар!"),a>=5&&(i="В корзину добавлено "+a+" товаров!"),a>1&&a<5&&(i="В корзину добавлено "+a+" товара!"),swal("Успешно!",i,"success")}));